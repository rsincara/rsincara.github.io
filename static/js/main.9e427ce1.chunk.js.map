{"version":3,"sources":["Roulette.jsx","App.js","index.js"],"names":["Roulette","values","useState","copy","setCopy","roulette","useRef","elements","map","el","index","classes","src","style","transform","sessionStorage","getItem","className","alt","roll","rollCount","temp","tempCopy","setItem","rollPos","current","childNodes","forEach","shift","push","useEffect","setTimeout","ref","onClick","min","max","Math","ceil","floor","random","chars","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"qNAmEeA,EA/DE,SAAC,GAAc,IAAbC,EAAY,EAAZA,OAEf,EAAsBC,mBAAS,YAAID,IAAnC,mBAAKE,EAAL,KAAWC,EAAX,KACIC,EAAWC,iBAAO,MAClBC,EAAWJ,EAAKK,KAAI,SAACC,EAAIC,GACzB,IAAIC,EAAoB,IAAVD,EAAc,cAAgB,UAC5C,OAAO,qBAAKE,IAAKH,EAAII,MAAO,CAACC,UAAU,cAAD,OAAgBC,eAAeC,QAAQ,WAAvC,QAC1BC,UAAS,UAAKN,GAAWO,IAAI,oBAY7C,SAASC,IACL,IAAIC,GAAaL,eAAeC,QAAQ,aACxC,GAAII,EAAY,EAAG,CACf,IAAIC,EAAOlB,EAAK,GACZmB,EAAQ,YAAOnB,GACnBY,eAAeQ,QAAQ,YAAaH,EAAY,GAChD,IAAII,EAAUT,eAAeC,QAAQ,WAxB9B,GAyBPD,eAAeQ,QAAQ,UAAWC,GAClCnB,EAASoB,QAAQC,WAAWC,SAAQ,SAAAlB,GAAE,OAAIA,EAAGI,MAAMC,UAAT,qBAAmCU,EAAnC,WACzB,MAAbA,IACAnB,EAASoB,QAAQC,WAAWC,SAAQ,SAAAlB,GAAE,OAAIA,EAAGI,MAAMC,UAAT,qBAC1CC,eAAeQ,QAAQ,WA7BpB,IA8BHD,EAASM,QACTN,EAASO,KAAKR,IAElBjB,EAAQkB,QAERP,eAAeQ,QAAQ,YAAa,SAiB5C,OA5CKR,eAAeC,QAAQ,YACxBD,eAAeQ,QAAQ,WAAY,IAGvCO,qBAAU,WACsC,SAAxCf,eAAeC,QAAQ,cACvBe,WAAWZ,EAAM,MAuCrB,sBAAKF,UAAU,WAAf,UACI,qBAAKA,UAAU,gBAAgBe,IAAK3B,EAApC,SACKE,IAEL,wBAAQU,UAAW,MAAOgB,QAlBlC,WAMA,IAA6BC,EAAKC,EAL9BpB,eAAeQ,QAAQ,YAAa,QACpCR,eAAeQ,QAAQ,aAIEW,EAJ+B,IAI1BC,EAJ+B,KAK7DD,EAAME,KAAKC,KAAKH,GAChBC,EAAMC,KAAKE,MAAMH,GACVC,KAAKE,MAAMF,KAAKG,UAAYJ,EAAMD,IAAQA,IANjDf,KAeI,sBC1DRqB,EAAQ,CAAC,kDACb,+EACA,sEACA,sGACI,kGAqBWC,MARf,WACI,OACI,8BACI,cAAC,EAAD,CAAUxC,OAAQuC,OCnB9BE,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,U","file":"static/js/main.9e427ce1.chunk.js","sourcesContent":["import './App.css';\r\nimport {useRef, useState, useEffect} from \"react\";\r\nimport React from 'react';\r\n\r\nconst Roulette = ({values}) => {\r\n    let moveSize = 10;\r\n    let [copy, setCopy] = useState([...values]);\r\n    let roulette = useRef(null);\r\n    let elements = copy.map((el, index) => {\r\n        let classes = index === 1 ? \"element win\" : \"element\";\r\n        return <img src={el} style={{transform: `translateY(${sessionStorage.getItem('rollPos')}px)`}}\r\n                    className={`${classes}`} alt='roulette-img'/>\r\n    })\r\n    if (!sessionStorage.getItem('rollPos') ) {\r\n        sessionStorage.setItem('rollPos', -20);\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (sessionStorage.getItem('isRolling') === 'true') {\r\n            setTimeout(roll, 5);\r\n        }\r\n    })\r\n\r\n    function roll() {\r\n        let rollCount = +sessionStorage.getItem('rollCount');\r\n        if (rollCount > 0) {\r\n            let temp = copy[0];\r\n            let tempCopy = [...copy];\r\n            sessionStorage.setItem('rollCount', rollCount - 1);\r\n            let rollPos = sessionStorage.getItem('rollPos') - moveSize;\r\n            sessionStorage.setItem('rollPos', rollPos);\r\n            roulette.current.childNodes.forEach(el => el.style.transform = `translateY(${rollPos}px)`);\r\n            if (rollPos === -200) {\r\n                roulette.current.childNodes.forEach(el => el.style.transform = `translateY(0px)`);\r\n                sessionStorage.setItem('rollPos', -moveSize);\r\n                tempCopy.shift();\r\n                tempCopy.push(temp);\r\n            }\r\n            setCopy(tempCopy);\r\n        } else {\r\n            sessionStorage.setItem('isRolling', 'false');\r\n        }\r\n    }\r\n\r\n    function startRoulette() {\r\n        sessionStorage.setItem('isRolling', 'true');\r\n        sessionStorage.setItem('rollCount', getRandomRollsCount(600, 1200));\r\n        roll();\r\n    }\r\n\r\n    function getRandomRollsCount(min, max) {\r\n        min = Math.ceil(min);\r\n        max = Math.floor(max);\r\n        return Math.floor(Math.random() * (max - min)) + min; //Максимум не включается, минимум включается    }\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"roulette\">\r\n            <div className=\"roulette-wrap\" ref={roulette}>\r\n                {elements}\r\n            </div>\r\n            <button className={'btn'} onClick={startRoulette}>Roll</button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Roulette;","import './App.css';\nimport React from 'react';\nimport Roulette from \"./Roulette\";\n\nlet chars = ['https://pbs.twimg.com/media/E7kUe3gWUAcefrE.jpg',\n'https://i.pinimg.com/originals/57/40/0c/57400c4761ae8ae16780773ea72491ce.png',\n'https://pbs.twimg.com/profile_images/801087906/Asuka_Twitterpic.jpg',\n'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRrN1P62LcyPdTfILE1opfiTN0NLAT-zIbK4A&usqp=CAU',\n    'https://pbs.twimg.com/profile_images/728782376/Mari_Illustrious_Makinami_by_yo4tojp_-_Copy.jpg'\n]\n\nlet tataps = [\n    'https://sun1-96.userapi.com/s/v1/ig2/AlmqSUSiRoX9EiNcxb9EGp8YByVZfv2hMsusSsx73gqdUYo8Ti9lR8thvlvuPZi-SCXG7yZxGYrQqEL8s5fx0ezM.jpg?size=50x50&quality=95&crop=9,5,1063,1063&ava=1',\n    'https://sun1-94.userapi.com/s/v1/if1/tdT8v_k9DvcThQsDmLZBxtNXqMx_Mn50lGVGbsmx-0hnSmeOorE36iTVtmT2IEopya2ClruU.jpg?size=50x50&quality=96&crop=38,70,506,506&ava=1',\n    'https://sun1-30.userapi.com/s/v1/ig2/PWX9oW5-4kbmFRg1gLuKF0dwSX_HZVlngxvQKkR5ZaYt1HiDkwue7MfO3FF-M3m7L4btxhbfTfm0lV6ytZML-zXV.jpg?size=50x50&quality=96&crop=13,24,201,201&ava=1',\n    'https://sun1-90.userapi.com/s/v1/if2/IUAqjsuI3RAhvpKXILgHckwkKkjvbUclWfNaTryHGL7awnkp1aQS9DK5p6cKVyhRr6ulVZ_Rv1a547XTmlGWHi6L.jpg?size=50x50&quality=96&crop=724,313,451,451&ava=1',\n    'https://sun1-84.userapi.com/s/v1/ig2/007ShfNLQEdi958qfeX3tGfk95WWZAzuoIMVCEDjFRQgx7EdsRLi-DjRb60UQGf1WmXCW2OW4jXW-b7LLy-7AGc7.jpg?size=50x50&quality=96&crop=0,174,661,661&ava=1',\n    'https://sun1-14.userapi.com/s/v1/ig2/ifPRK8LbqUow85k-ouYFhRm1LU1cPg9lfE8LFxfcgeKkOiyMGDJAhR4pQIwsBWpplDIQX2mIcjdep4btjnXXsx5t.jpg?size=50x50&quality=96&crop=211,100,361,361&ava=1'\n\n]\n\nfunction App() {\n    return (\n        <div>\n            <Roulette values={chars}/>\n        </div>\n    )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App  />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}